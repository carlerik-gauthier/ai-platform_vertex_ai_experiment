ml_pythonVersion: '3.7'
ml_runtimeVersion: '1.15'
ml_region: 'europe-west1'

mlmachine_size: S
# Useful for preprocessing and predict, not for training.
# ml_scalerTier_train is used for training
# ml_scaleTier = 'BASIC'
ml_preprocess:
  ml_scaleTier_train: 'CUSTOM'
  ml_masterType: 'large_model'

ml_predict:
  ml_scaleTier_train: 'CUSTOM'
  ml_masterType: 'large_model'

typology_machine:
  S:
    ml_scaleTier_train: 'CUSTOM'
    ml_masterType: 'n1-standard-8'
    ml_workerType: 'large_model'
    ml_workerCount: 0
    ml_parameterServerType: 'standard'
    ml_parameterServerCount: 0
  M:
    ml_scaleTier_train: 'CUSTOM'
    ml_workerCount: 3
    ml_workerType: 'standard_gpu'
    ml_masterType: 'standard_gpu'
    ml_parameterServerCount: 1
    ml_parameterServerType: 'standard_gpu'

  L:
    ml_scaleTier_train: 'CUSTOM'
    ml_workerCount: 10
    ml_workerType: 'standard_gpu'
    ml_masterType: 'standard_gpu'
    ml_parameterServerCount: 3
    ml_parameterServerType: 'standard_gpu'
